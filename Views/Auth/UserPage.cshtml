@model Demo.Models.User

@{
    ViewData["Title"] = "UserPage";
    Layout = null;
    var studentCourses = ViewBag.StudentCourses as List<Demo.Models.Course>;
    var studentGrades = ViewBag.StudentGrades as List<Demo.Models.Grade>;
    var teachers = ViewBag.Teachers as List<Demo.Models.User> ?? new List<Demo.Models.User>();

}

<h2>Chào mừng, @Model.FirstName @Model.LastName</h2>

<hr />

<!-- Thông tin cá nhân -->
<h3>Thông tin cá nhân</h3>
<p><strong>Mã sinh viên:</strong> @Model.CodeUser</p>
<p><strong>Email:</strong> @Model.Email</p>
<p><strong>Số điện thoại:</strong> @Model.PhoneNumber</p>

<!-- Danh sách khóa học -->
<h3>Danh sách khóa học của bạn</h3>
@if (studentCourses != null && studentCourses.Any())
{
    <ul>
        @foreach (var course in studentCourses)
        {
            <li><strong>@course.courseName</strong> - @course.Description</li>
        }
    </ul>
}
else
{
    <p>Bạn chưa đăng ký khóa học nào.</p>
}

<!-- Danh sách điểm số -->
<h3>Điểm số</h3>
@if (studentGrades != null && studentGrades.Any())
{
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Môn học</th>
                <th>Điểm</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var grade in studentGrades)
            {
                <tr>
                    <td>@grade.CourseName</td>
                    <td>@grade.Score</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>Chưa có điểm.</p>
}

<!-- Danh sách giáo viên -->
<h3>Giáo viên của bạn</h3>
@if (teachers.Any()) // Kiểm tra danh sách có dữ liệu không
{
    <ul>
        @foreach (var teacher in teachers)
        {
            <li>@teacher.FirstName @teacher.LastName - @teacher.CodeUser</li>
        }
    </ul>
}
else
{
    <p style="color: red;">Bạn chưa có giáo viên nào vì chưa tham gia lớp học.</p>
}


<hr />

<!-- Nút đổi mật khẩu -->
<a asp-action="ChangePassword" class="btn btn-primary">Đổi mật khẩu</a>